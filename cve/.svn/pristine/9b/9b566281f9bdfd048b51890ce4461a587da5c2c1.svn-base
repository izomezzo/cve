/**
 *  
 */
package politse.entity;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Date;

import static javax.persistence.CascadeType.ALL;

import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.NamedQuery;
import javax.persistence.OneToMany;
import javax.persistence.Table;
import javax.persistence.Temporal;

import static javax.persistence.TemporalType.TIMESTAMP;

import javax.persistence.Transient;

@Entity
@Table(name="Party")
@NamedQuery(
    name="findAllParties",
    query="SELECT pa FROM Party pa " +  
    "ORDER BY pa.partyId"
)
public class Party implements java.io.Serializable {
    /**
	 * 
	 */
	private static final long serialVersionUID = 1846718169964029184L;
    private String partyId;
    private String name;
    private Integer billsPassed;
  //  private String parliamentId;
    private char status;
    private Date lastUpdate;
    private Parliament parliament;
	private Collection<Member> members;
    
    public Party() {
    	
        this.lastUpdate = new Date();
       // this.lineItems = new ArrayList<>();
    }
    
    public Party(String partyId,String name, Integer billsPassed, Parliament parliament) {
        this.partyId = partyId;
        this.lastUpdate = new Date();
        this.billsPassed = billsPassed;
        this.parliament = parliament;
        this.members = new ArrayList<>();
    }
    
    @Id
    public String getPartyId() {
        return partyId;
    }
    
    public void setPartyId(String partyId) {
        this.partyId = partyId;
    }
    
    public char getStatus() {
        return status;
    }
    
    public void setStatus(char status) {
        this.status = status;
    }
    
    @Temporal(TIMESTAMP)
    public Date getLastUpdate() {
        return lastUpdate;
    }
    
    
    public void setLastUpdate(Date lastUpdate) {
        this.lastUpdate = lastUpdate;
    }
    

    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public Integer getBillsPassed() {
        return billsPassed;
    }
    
    public void setBillsPassed(Integer billsPassed) {
        this.billsPassed = billsPassed;
    }
    
    @ManyToOne
 //   @JoinColumn(name="PARLIAMENTID")
    public Parliament getParliament() {
        return parliament;
    }
    
    public void setParliament(Parliament parliament) {
        this.parliament = parliament;
    }
    
    @OneToMany(cascade=ALL, mappedBy="party")
    public Collection<Member> getMembers() 
    {
        return members;
    }
    
    public void setMembers(Collection<Member> members)
    {
    	this.members = members;
    }
    
    public String toString()
    {
        return partyId;
    }
}
