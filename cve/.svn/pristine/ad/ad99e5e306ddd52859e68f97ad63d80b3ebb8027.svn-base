package politse.entity;

import static javax.persistence.TemporalType.TIMESTAMP;

import java.util.Date;

import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.Id;
import javax.persistence.ManyToOne;
import javax.persistence.NamedQueries;
import javax.persistence.NamedQuery;
import javax.persistence.OneToOne;
import javax.persistence.Table;
import javax.persistence.Temporal;

@Entity
@Table(name="BidOrder")
@NamedQueries({
@NamedQuery(
    name="findBidOrdersByMember",
    query="SELECT bo FROM BidOrder bo " +  
    "WHERE bo.member = :member"
),
@NamedQuery(
	    name="findBidOrderMembers",
	    query="SELECT bo FROM BidOrder bo " +
	    "WHERE bo.amount != 0 " +
	    "ORDER BY bo.member"
	),
@NamedQuery(
	    name="findAllBidOrders",
	    query="SELECT bo FROM BidOrder bo "
	),
@NamedQuery(
		name="findBidOrdersByTrader",
		query="SELECT bo FROM BidOrder bo " +
		"WHERE bo.trader = :trader"
	)
})
public class BidOrder {
	
	
	private Integer orderId;
	private Integer amount;
	private Double price;
	private Member member;
	private Trader trader;
	private Date lastUpdate;
	
	public BidOrder()
	{
		this.lastUpdate = new Date();
	}
	
	public BidOrder(Integer amount, Double price, Member member, Trader trader)
	{
		this.amount = amount;
		this.price = price;
		this.member = member;
		this.trader = trader;
		this.lastUpdate = new Date();
	}
	
	@GeneratedValue
	@Id
	public Integer getOrderId() {
		return orderId;
	}
	public void setOrderId(Integer orderId) {
		this.orderId = orderId;
	}
	public Integer getAmount() {
		return amount;
	}
	public void setAmount(Integer amount) {
		this.amount = amount;
	}
	public Double getPrice() {
		return price;
	}
	public void setPrice(Double price) {
		this.price = price;
	}
	
	@ManyToOne
	public Member getMember() {
		return member;
	}
	public void setMember(Member member) {
		this.member = member;
	}
	
	@ManyToOne
	public Trader getTrader() {
		return trader;
	}
	public void setTrader(Trader trader) {
		this.trader = trader;
	}
	
	@Temporal(TIMESTAMP)
	public Date getLastUpdate() {
		return lastUpdate;
	}
	
	public void setLastUpdate(Date lastUpdate) {
		this.lastUpdate = lastUpdate;
	}

}
